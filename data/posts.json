[{
  "_id": {
    "$oid": "64d1efdbc0a774df1d662432"
  },
  "title": "Debut",
  "subtitle": "start to write md here",
  "author": "me",
  "content": "![This is just the beginning](https://tsuzukusekai.files.wordpress.com/2010/05/f91_end.jpg)\n\n[Source code](https://github.com/Albert0i/next-methinks.git)\n\n.env\n\n```\nMONGODB_URI=<your mongodb uri>\n\nAPI_URL=http://localhost:3000/api\n\nAPP_ENV=localhost\n\nADMIN_USERNAME=myuser\n\nADMIN_PASSWORD=mypwd\n\nAUTH_COOKIE_NAME=my-auth-token \n```\n\nRemove deleted records: \n\n```\nuse methinks_db\nshow collections\ndb.posts.find({deleted: true}).count()\ndb.posts.deleteMany({deleted: true})\n```\n[Step-by-Step Guide: Create a Next.js 13 CRUD App with MongoDB from Scratch](https://youtu.be/wNWyMsrpbz0)\n\n[Next.js 13 Authentication: Custom Email/Password with NextAuth.js & MongoDB](https://youtu.be/PEMfsqZ2-As)\n\n[Fullstack nextjs course with mongodb and appwrite](https://youtu.be/7ahDnxnXheU)\n\n[NextJS 13 Tutorial: Create a Static Blog from Markdown Files](https://youtu.be/Hiabp1GY8fA)\n\n---\n\n### EOF (2023/08/18)",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-08T07:33:47.331Z"
  },
  "updatedAt": {
    "$date": "2023-08-16T00:32:59.691Z"
  },
  "__v": 0,
  "deletedAt": {
    "$date": "2023-08-08T09:24:09.341Z"
  }
},{
  "_id": {
    "$oid": "64d5f3e919cea7ab6546f40b"
  },
  "title": "SSG and ISR",
  "subtitle": "NextJS SSG demo",
  "author": "me",
  "content": "https://github.com/Albert0i/next-ssg/blob/main/README.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-11T08:40:09.766Z"
  },
  "updatedAt": {
    "$date": "2023-08-12T08:14:00.695Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d7405350d0f62cb795a601"
  },
  "title": "NEXT to Node",
  "subtitle": "‘If you are right, I must be wrong!’",
  "author": "me",
  "content": "https://github.com/Albert0i/crud-mongodb/blob/main/README.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-12T08:18:27.142Z"
  },
  "updatedAt": {
    "$date": "2023-08-12T08:18:27.142Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d741ff20d2bb2d6a39b5d6"
  },
  "title": "NextJS",
  "subtitle": "Dockerization on Windows container",
  "author": "me",
  "content": "https://github.com/Albert0i/crud-mongodb/blob/main/README.V2.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-12T08:25:35.880Z"
  },
  "updatedAt": {
    "$date": "2023-08-12T08:37:33.093Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d7455842a7559bbf864512"
  },
  "title": "YRunner on Node",
  "subtitle": "A generic API gateway to Oralce Database",
  "author": "me",
  "content": "https://github.com/Albert0i/yrunner-on-node/blob/main/README.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-12T08:39:52.581Z"
  },
  "updatedAt": {
    "$date": "2023-08-12T08:39:52.581Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d7461d2d2c85598a6093bc"
  },
  "title": "The sequel to YON",
  "subtitle": "Caching code tables",
  "author": "me",
  "content": "https://github.com/Albert0i/yrunner-on-node/blob/main/README.V2.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-12T08:43:09.059Z"
  },
  "updatedAt": {
    "$date": "2023-08-12T08:43:09.059Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d746762d2c85598a6093c2"
  },
  "title": "Another sequel to YON ",
  "subtitle": "Dockerization",
  "author": "me",
  "content": "https://github.com/Albert0i/yrunner-on-node/blob/main/README.V3.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-12T08:44:38.769Z"
  },
  "updatedAt": {
    "$date": "2023-08-12T08:44:38.769Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d74709c2b320f18f6851db"
  },
  "title": "SQLite Server ",
  "subtitle": "JSON Server facsimile backed by SQLite.",
  "author": "me",
  "content": "https://github.com/Albert0i/sqlite-server/blob/main/README.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-12T08:47:05.752Z"
  },
  "updatedAt": {
    "$date": "2023-08-12T08:47:05.752Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d74806c2b320f18f6851df"
  },
  "title": "MERN stack course",
  "subtitle": "To be a programmer is not easy; to be a full stack programmer is uneasy.",
  "author": "me",
  "content": "https://github.com/Albert0i/mern_stack_course/blob/main/README.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-12T08:51:18.159Z"
  },
  "updatedAt": {
    "$date": "2023-08-12T08:51:18.159Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d74852c2b320f18f6851e2"
  },
  "title": "React Redux",
  "subtitle": "An extract from React Redux Quick Start for idiot",
  "author": "me",
  "content": "https://github.com/Albert0i/react_redux_tutorial/blob/main/README.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-12T08:52:34.522Z"
  },
  "updatedAt": {
    "$date": "2023-08-12T08:52:34.522Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d748a94b145122127501ef"
  },
  "title": "react-js-blog",
  "subtitle": "",
  "author": "me",
  "content": "https://github.com/Albert0i/react-js-blog/blob/main/README.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-12T08:54:01.720Z"
  },
  "updatedAt": {
    "$date": "2023-08-12T08:54:01.720Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d7490b4b145122127501f2"
  },
  "title": "json-server-tutorial",
  "subtitle": "Simplicity but not simple",
  "author": "me",
  "content": "https://github.com/Albert0i/json-server-tutorial/blob/main/README.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-12T08:55:39.535Z"
  },
  "updatedAt": {
    "$date": "2023-08-12T08:55:39.535Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d749414b48c59375f63e0e"
  },
  "title": "The way of JWT",
  "subtitle": "",
  "author": "me",
  "content": "https://github.com/Albert0i/json-server-tutorial/blob/main/JWT.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-12T08:56:33.106Z"
  },
  "updatedAt": {
    "$date": "2023-08-12T08:56:33.106Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d7498e4b145122127501f8"
  },
  "title": "node-express-jwt-auth",
  "subtitle": "",
  "author": "me",
  "content": "https://github.com/Albert0i/node-express-jwt-auth/blob/main/README.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-12T08:57:50.382Z"
  },
  "updatedAt": {
    "$date": "2023-08-12T08:57:50.382Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d749c34b145122127501fb"
  },
  "title": "dojo-blog",
  "subtitle": "",
  "author": "me",
  "content": "https://github.com/Albert0i/dojo-blog/blob/main/README.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-12T08:58:43.578Z"
  },
  "updatedAt": {
    "$date": "2023-08-12T08:58:43.578Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d74b9d4b14512212750200"
  },
  "title": "Node-tify TA project",
  "subtitle": "Old soldiers never die--they just fade away.",
  "author": "me",
  "content": "https://github.com/Albert0i/na/blob/main/README.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-12T09:06:37.229Z"
  },
  "updatedAt": {
    "$date": "2023-08-12T09:06:37.229Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d74d277fbd78ee0f58f624"
  },
  "title": "node-docker",
  "subtitle": "Notes from Underground",
  "author": "me",
  "content": "https://github.com/Albert0i/node-docker/blob/main/NFUD.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-12T09:13:11.789Z"
  },
  "updatedAt": {
    "$date": "2023-08-12T09:13:11.789Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d74d9a7fbd78ee0f58f62d"
  },
  "title": "Docker swarm on Oracle Cloud (Free Tier)",
  "subtitle": "窮L的後現代生活",
  "author": "me",
  "content": "https://github.com/Albert0i/node-docker/blob/main/swarm.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-12T09:15:06.153Z"
  },
  "updatedAt": {
    "$date": "2023-08-12T09:15:06.153Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d74eafada3b35414a72a92"
  },
  "title": "Dockerize WebForm Application",
  "subtitle": "最後一公里」之「行百里者半於九十」",
  "author": "me",
  "content": "https://github.com/Albert0i/misdoc/blob/main/DWFA.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-12T09:19:43.911Z"
  },
  "updatedAt": {
    "$date": "2023-08-12T09:19:43.911Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d74ed4ada3b35414a72a95"
  },
  "title": "Caching SQL results with Redis, a strategic approach.",
  "subtitle": "",
  "author": "me",
  "content": "https://github.com/Albert0i/misdoc/blob/main/CSRWR.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-12T09:20:20.949Z"
  },
  "updatedAt": {
    "$date": "2023-08-12T09:20:20.949Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d74f07ada3b35414a72a99"
  },
  "title": "YRunner",
  "subtitle": "The Accidental HA",
  "author": "me",
  "content": "https://github.com/Albert0i/misdoc/blob/main/YRTAHA.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-12T09:21:11.775Z"
  },
  "updatedAt": {
    "$date": "2023-08-12T09:21:11.775Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d838b551b79a4482797902"
  },
  "title": "Getting Started",
  "subtitle": "nextjs",
  "author": "me",
  "content": "https://github.com/Albert0i/next-methinks/blob/main/README.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-13T01:58:13.121Z"
  },
  "updatedAt": {
    "$date": "2023-08-13T01:58:13.121Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d8390c51b79a4482797907"
  },
  "title": "Temporary",
  "subtitle": "Temporary post",
  "author": "me",
  "content": "###cookies\nThe `cookies` function allows you\n\n- to read the HTTP incoming request cookies from a Server Component or \n\n- write outgoing request cookies in a Server Action or Route Handler.\n\nThis is a temporary post for storing misc data...\n\n# Really slow connection\n\n## After edit and save, please reload... \n",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-13T01:59:40.262Z"
  },
  "updatedAt": {
    "$date": "2023-08-13T02:00:45.817Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d83a87695830c55abc440c"
  },
  "title": "Notes from parameters",
  "subtitle": "",
  "author": "me",
  "content": "page.jsx\n\n```\nconst TestPage = ( props ) => {  \\n  console.log('props=', props)\nconst { params, searchParams } = props   \n  return (\n    <>\n        <div>TestPage</div>\n        <p>params={JSON.stringify(params)}</p>\n        <p>searchParams={JSON.stringify(searchParams)}</p>\n    </>    \n  )\n}\n\nexport default TestPage\n```\n\nroute.js\n\n```\nexport async function GET(req, { params }) {\n  const searchParams = req.nextUrl.searchParams  \n\n  console.log('params=', params)\n  console.log('searchParams=', searchParams)\n\n  return NextResponse.json({success: true}, { status: 200 }) \n\n```\n\nmiddleware.js\n\n```\nimport { NextResponse } from 'next/server'\n \n// This function can be marked `async` if using `await` inside\nexport function middleware(request) {\n  return NextResponse.redirect(new URL('/home', request.url))\n}\n \n// See \\\"Matching Paths\\\" below to learn more\nexport const config = {\n  matcher: '/about/:path*',\n}\n```\nSee [Middleware](https://nextjs.org/docs/app/building-your-application/routing/middleware)\n\n### EOF (2023/08/11)\n",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-13T02:05:59.808Z"
  },
  "updatedAt": {
    "$date": "2023-08-13T02:05:59.808Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d83bb828f83ab040646c95"
  },
  "title": "Notes from cookies",
  "subtitle": "\"https://nextjs.org/docs/app/api-reference/functions/cookies",
  "author": "me",
  "content": "The *cookies* function allows you to read the HTTP incoming request cookies from a **Server Component** or write outgoing request cookies in a **Server Action** or **Route Handler**.\n\npage.jsx\n\n```\nimport { cookies } from 'next/headers'\n \nexport default function Page() {\n  const cookieStore = cookies()\n  return cookieStore.getAll().map((cookie) => (\n    <div key={cookie.name}>\n      <p>Name: {cookie.name}</p>\n      <p>Value: {cookie.value}</p>\n    </div>\n  ))\n}\n```\n\naction.js\n\n```\n'use server'\n \nimport { cookies } from 'next/headers'\n \nasync function create(data) {\n  cookies().set('name', 'lee')\n  // or\n  cookies().set('name', 'lee', { secure: true })\n  // or\n  cookies().set({\n    name: 'name',\n    value: 'lee',\n    httpOnly: true,\n    path: '/',\n  })\n}\n```\n\nmiddleware.js\n\n```\nimport { NextResponse } from \"next/server\"\n\nexport function middleware(req) {\n  const res = NextResponse.redirect(\"/\") // creates an actual instance\n  res.cookie(\"hello\", \"world\") // can be called on an instance\n  return res\n}\n```\n[link](https://github.com/vercel/next.js/issues/32424)\n\n",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-13T02:11:04.911Z"
  },
  "updatedAt": {
    "$date": "2023-08-13T02:12:00.176Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d83c4c534c31f40c3eb4d5"
  },
  "title": "Souls",
  "subtitle": "A story of identity",
  "author": "me",
  "content": "How soul outlives the body? This is perhaps the most fascinating question for human being. As a matter of fact, we don't even realize what is \"soul\". \n\nAssuming that body, which is a palpable and perceivable existence, has a invisible connexion with soul. If it is true. Is it possible to *disentangle* them? Or connect the soul with another body? Then what is the **identity** of man? By soul? By body? Or by both? \n\nDoes the soul eat? Does the soul feel? Does the soul sleep? We definitely not know. \n\n![alt souls](https://w0.peakpx.com/wallpaper/281/470/HD-wallpaper-black-white-soul-white-black-soul-reflective.jpg)",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-13T02:13:32.313Z"
  },
  "updatedAt": {
    "$date": "2023-08-22T07:07:02.703Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d83cbec8155853cec477df"
  },
  "title": "Stars",
  "subtitle": "A story of memories",
  "author": "me",
  "content": "Stars, staring and shinning on us over centries, can only be seen in dark nights. Those little silvery dots bear memories from the most remote era dating from the very creation of universe. \n\nIn secular and religious beliefs, there exist two kinds of stars. One that bring much fortune while the other foretell bad luck, or presentiment of disasters. \n\n![alt stars](https://media.istockphoto.com/id/1203341624/vector/black-and-white-night-stars-seamless-pattern.jpg?s=612x612&w=0&k=20&c=Gxr9qeefLbjhcVk2Yh2Y6SWOgdAoq43qPsy9zERzZSU=)",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-13T02:15:26.196Z"
  },
  "updatedAt": {
    "$date": "2023-08-22T07:08:10.924Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d83cebc8155853cec477e3"
  },
  "title": "Life",
  "subtitle": "A story of life",
  "author": "me",
  "content": "Life as a series of causes and consequences. Every day is a thread of knots of events, every decision is crucial, every decision is determinative. \n\n![alt life](https://media.istockphoto.com/id/1324683532/photo/black-and-white-ripe-fruit-healthy-nutrition.jpg?s=612x612&w=0&k=20&c=LgckR78I2oMJ90Zmjtrv7t7RUb0DRqAZpbfkg73B85Y=)",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-13T02:16:11.376Z"
  },
  "updatedAt": {
    "$date": "2023-08-22T07:09:24.411Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64d88ed3543676ccc4aaf8d4"
  },
  "title": "Test Image",
  "subtitle": "",
  "author": "me",
  "content": "https://github.com/Albert0i/next-methinks/blob/main/Test.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-13T08:05:39.793Z"
  },
  "updatedAt": {
    "$date": "2023-08-14T01:26:18.427Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64db40a355a3cdf7825529c2"
  },
  "title": "Something",
  "subtitle": "",
  "author": "me",
  "content": "Stepping out of my sweet home, where I lived for more than thirty years, I feel a sudden faint and ensued by headache. Continue to walk down the alley, I just can't remember what has happened last night. Standing on the junction to the main street, I saw peculiar faces gesticulating in a way I can't make out their meaning. Looking up to the sky to evade the scene, I started to think about the the difference between *to live* and *to survive*.\n\nTo live is to have your own style of life. To survive is to struggle for a living.\n\nDoes this makes any difference to you ?\n\n![alt you](https://static3.bigstockphoto.com/7/2/4/large2/427517912.jpg)\n\n--- \n\n- impalpable\n- unperceivable\n- inconceivable\n- unconscious\n-",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-15T09:08:51.209Z"
  },
  "updatedAt": {
    "$date": "2023-08-23T08:56:19.470Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64dd663b21f233f566a42b81"
  },
  "title": "myst",
  "subtitle": "a maze of diagnostic",
  "author": "me",
  "content": "Besides crafting useful utilities, my daily job is to diagnose and solve integration issues in main. Software systems have a propensity to intermingle with some other systems. Data flowing from table to table across system boundaries while unperceivable by ordinary users but programmers. \n\nWhen a pipeline broke, you have to find out which piece of puzzle is missing in which system, which table, which record etc. However, hints from users are always inaccurate, incorrect or even misleading... This is because people tend to be subjective and see things only from their own point of view. \n\nAt last, you have to devise quick fix or workaround so as to the same problems won't happen *at least* in the near future. \n \nSeriously, at the very verge of any systems, some kinds of **API end point** should be setup so that other systems can be invoked in a controlled manner. No trespass is allowed. \n\n![alt maze](https://media.istockphoto.com/id/484698646/vector/labyrinth-puzzle-game-drawing.jpg?s=612x612&w=0&k=20&c=0VOgw2whNwT8ZTmSzyFZLBsCHMJJ2LWUjKhK5f4EAj4=)\n\n---\n\n[![alt 《Casablanca》《卡薩布蘭卡》英文歌中文譯](https://img.youtube.com/vi/uh-_lT4CMDs/0.jpg)](https://youtu.be/uh-_lT4CMDs)\n\n### EOF (2023/08/17)",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-17T00:13:47.195Z"
  },
  "updatedAt": {
    "$date": "2023-08-22T07:11:06.195Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64debb0cabed0cecacb37c39"
  },
  "title": "random token generator",
  "subtitle": "",
  "author": "me",
  "content": "### Random token generator using NodeJS\n\n```\n> node\nWelcome to Node.js v18.16.1.\nType \".help\" for more information.\n> require('crypto').randomBytes(64).toString('hex')\n'f0784fa503edc1832150b8bf6c726f26c44e6788ac6e4752d6d5337727292c39ce3b5911f196f64d7648f76c494d609a7f53904eb957fe4aa9711ae97755d5fa'\n>\n(To exit, press Ctrl+C again or Ctrl+D or type .exit)\n>\n```\n\n### EOF (2023/08/19)",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-18T00:27:56.825Z"
  },
  "updatedAt": {
    "$date": "2023-08-18T00:39:47.536Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64def4a97dfd40885d3ddb22"
  },
  "title": "Next.js Project Structure",
  "subtitle": "",
  "author": "me",
  "content": "This page provides an overview of the file and folder structure of a Next.js project. It covers top-level files and folders, configuration files, and routing conventions within the `app` and `pages` directories.\n\n*Top-level folders*\n\n- app\tApp Router\n\n- pages\tPages Router\n\n- public\tStatic assets to be served\n\n- src\tOptional application source folder\n\n*Dynamic Routes*\n\n- [folder]\tDynamic route segment\n\n- [...folder]\tCatch-all route segment\n\n- [[...folder]]\tOptional catch-all route segment\n\n> Dynamic Segments can be extended to catch-all subsequent segments by adding an ellipsis inside the brackets [...folderName].\n\n> For example, app/shop/[...slug]/page.js will match /shop/clothes, but also /shop/clothes/tops, /shop/clothes/tops/t-shirts, and so on.\n\n\n*Route Groups and Private Folders*\n\n- (folder)\tGroup routes without affecting routing\n\n- _folder\tOpt folder and all child segments out of routing\n\n> Private folders can be created by prefixing a folder with an underscore: _folderName\n\n> This indicates the folder is a private implementation detail and should not be considered by the routing system, thereby opting the folder and all its subfolders out of routing.\n\n---\n\nhttps://nextjs.org/docs/getting-started/project-structure",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-18T04:33:45.743Z"
  },
  "updatedAt": {
    "$date": "2023-08-18T04:53:12.195Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64e018c777bd49fc82762de3"
  },
  "title": "Days",
  "subtitle": "",
  "author": "me",
  "content": "All days are different, all days are the same. No matter who you are, where you live, how you age, you should feel the same.  City, which is the only reason, shapes, restricts and refines the life of everybody. It seems that we live in our own way but, in fact, this is not true. We are *required* to do more or less the same things everyday, not much the good, not much the bad, only to earn a living... \n\n![alt city](https://i.pinimg.com/564x/93/3c/03/933c03a11767a0f78fec41fcbf523483.jpg)\n\n### EOF (2023/08/19)",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-19T01:20:07.425Z"
  },
  "updatedAt": {
    "$date": "2023-08-19T02:11:54.111Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64e1861e8125829d5adcfcfc"
  },
  "title": "A cross-road",
  "subtitle": "",
  "author": "me",
  "content": "Anything, which deviates from initial intention, results in disaster. However pure and virtuous our beginning conception is, once down to earth to exercise and execute, will evolve into a diversity of tempting *fruits*. It's important to get to know that evading and refraining temptation of snakes, which is called *trial of souls*, as much as we can and not yield submission too easily nor too soon. \n\nWhy are devils cleverer than you, simply because they are older than you. They are ingenious and witty, have lived thousands of years (they are on the side of time). As we grow older and weaker both physically and spiritually, I foretell that at length we will all kneel down before **Lucifer**. But, I just don't want to be the first one nor the last one... at least... \n\n![alt a diverted road](https://i.pinimg.com/564x/a2/b1/de/a2b1de2c937f2763fd7cad20141747a1.jpg)\n\n### EOF (2023/08/20)",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-20T03:18:54.557Z"
  },
  "updatedAt": {
    "$date": "2023-08-20T04:19:17.376Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64e32bfc095334d2d3eab24d"
  },
  "title": "NextAuth.js",
  "subtitle": "a recipe",
  "author": "me",
  "content": "### 0. [Introduction](https://next-auth.js.org/getting-started/introduction)\n\n> NextAuth.js is a complete open-source authentication solution for Next.js applications. It is designed from the ground up to support Next.js and Serverless. \n\n\n### I. Add API route\n> To add NextAuth.js to a project create a file called `[...nextauth].js` in `app/api/auth` folder. This contains the dynamic route handler for NextAuth.js which will also contain all of your global NextAuth.js configurations.\n\napp/api/auth/[...nextauth].js\n\n```\nimport NextAuth from \"next-auth/next\";\nimport CredentialsProvider from \"next-auth/providers/credentials\";\n\nexport const authOptions = {\n  providers: \n  [\n    CredentialsProvider({\n      // The name to display on the sign in form (e.g. \"Sign in with...\")\n      name: \"Credentials\",\n      // `credentials` is used to generate a form on the sign in page.\n      // You can specify which fields should be submitted, by adding keys to the `credentials` object.\n      // e.g. domain, username, password, 2FA token, etc.\n      // You can pass any HTML attribute to the <input> tag through the object.\n      credentials: {\n        username: { label: \"Username\", type: \"text\", placeholder: \"jsmith\" },\n        password: { label: \"Password\", type: \"password\" },\n        email: { label: \"Email\", type: \"text\", placeholder: \"jsmith@example.com\"}\n      },\n      async authorize(credentials, req) {\n        // Add logic here to look up the user from the credentials supplied\n        const user = { id: \"1\", name: credentials.username, email: credentials.email }\n\n        if (user) {\n          // Any object returned will be saved in `user` property of the JWT\n          return user          \n        } else {\n          // If you return null then an error will be displayed advising the user to check their details.\n          return null\n  \n          // You can also Reject this callback with an Error thus the user will be sent to the error page with the error message as a query parameter\n        }\n      }\n    })\n  ],\n  session: {\n    strategy: \"jwt\",\n  },\n  secret: process.env.NEXTAUTH_SECRET  \n};\n\nconst handler = NextAuth(authOptions);\n\nexport { handler as GET, handler as POST };\n```\n> All requests to /api/auth/* (signIn, callback, signOut, etc.) will automatically be handled by NextAuth.js.\n\n```\nhttp://localhost:3000/api/auth/signin\n```\n![alt next-auth-signin](https://raw.githubusercontent.com/Albert0i/next-methinks/main/img/next-auth-signin.JPG)\n\n```\nhttp://localhost:3000/api/auth/signout\n```\n![alt next-auth-signout](https://raw.githubusercontent.com/Albert0i/next-methinks/main/img/next-auth-signout.JPG)\n\n\n### II. Protect your routes \n> You can use a Next.js [Middleware](https://next-auth.js.org/configuration/nextjs#middleware) with NextAuth.js to protect your site. \n\nmiddleware.js\n\n```\nexport { default } from \"next-auth/middleware\";\n\n/*\n   Add all the pages we want to protect. \n   Not accessable when we are logout-ed.\n*/\nexport const config = { matcher: \n    [ \"/main\" ] \n};\n```\n\n\n### III. Frontend - Add React Hook \n> The [`useSession()`](https://next-auth.js.org/getting-started/client#usesession) React Hook in the NextAuth.js client is the easiest way to check if someone is signed in.\n\napp/Providers.js\n\n```\n\"use client\";\n\nimport { SessionProvider } from \"next-auth/react\";\n\nexport const AuthProvider = ({ children }) => {\n  return <SessionProvider>{children}</SessionProvider>;\n};\n```\n\ncomponents/Navbar.jsx\n\n```\n\"use client\"\n\nimport React from 'react'\nimport { useSession } from \"next-auth/react\"\n\nconst Navbar = () => {\n  const { data: session, status } = useSession()\n\n  console.log('session=', session)\n  return (\n    <div>Navbar</div>\n  )\n}\n\nexport default Navbar\n```\n\napp/layout.jsx \n\n```\nimport './globals.css'\nimport { Inter } from 'next/font/google'\nimport { AuthProvider } from \"./Providers\";\nimport Navbar from '@/components/Navbar'\n\nconst inter = Inter({ subsets: ['latin'] })\n\nexport const metadata = {\n  title: 'Create Next App',\n  description: 'Generated by create next app',\n}\n\nexport default function RootLayout({ children }) {\n  return (\n    <html lang=\"en\">\n      <body className={inter.className}>\n        <AuthProvider>\n          <Navbar />\n          {children}\n        </AuthProvider>\n      </body>\n    </html>\n  )\n}\n```\n\n\n### IV. Backend - API Route\n> To protect an API Route, you can use the [`getServerSession()`](https://next-auth.js.org/configuration/nextjs#unstable_getserversession) method.\n\napp/main/page.jsx \n\n```\nimport { getServerSession } from \"next-auth/next\"\nimport { authOptions } from \"../api/auth/[...nextauth]/route\"\nimport Link from 'next/link'\n\nexport default async function Main() {\n  const session = await getServerSession(authOptions)\n\n  console.log('session=', session)\n  return (\n      <div>\n        Main Page\n        <p>\n          {JSON.stringify(session, null, 2)}\n        </p>\n        <Link href='/api/auth/signout'>Signout</Link>\n      </div>\n    )\n  }  \n```\n\n\n### V. Summary \n\n>and God calleth to the light 'Day,' and to the darkness He hath called 'Night;' and there is an evening, and there is a morning — day one.\n\n—  [Genesis 1:5, Young's Literal Translation (1862)](https://en.wikipedia.org/wiki/Reverential_capitalization)\n\n\n### VI. Reference\n1. [Next.js 13 Authentication: Custom Email/Password with NextAuth.js & MongoDB](https://youtu.be/PEMfsqZ2-As)\n\n2. [How to Manage Backend JWT Access Tokens in Next Auth and Next.js 13](https://youtu.be/fYObrr3jf0w)\n\n3. [Getting Started](https://next-auth.js.org/getting-started/example)\n\n4. [Credentials Provider](https://next-auth.js.org/providers/credentials)\n\n\n### EOF (2023/08/21)",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-21T09:18:52.717Z"
  },
  "updatedAt": {
    "$date": "2023-08-22T04:43:04.199Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64e427fe46758f71a5d970ee"
  },
  "title": "The incoming",
  "subtitle": "",
  "author": "me",
  "content": "One day in the near future, [He](https://en.wikipedia.org/wiki/Reverential_capitalization) comes and says to me \"time to go my son...\".  \"With pleasure\" I reply with a smiley face. I wonder where I go but I won't even bargain a minute to bid farewell with my lovable wife for I assure that she will come to me a few decades later. I do not have great wealth neither important properties left behind in secular society. \n\nI commit sin from time to time but not crime. I remorse and repent for both what I have done and what I haven't. I mourn and condole for oneself and thyself... I am an atheist and will retire and repose in this bleak land of prosperity and raging sea of tranquillity forever. \n\n\n![alt He](https://cdn.imgbin.com/22/0/12/imgbin-bible-god-the-father-god-in-christianity-jesus-christ-zfLpgw6eUYyMit5dPZEyMYiAi.jpg)\n\n### EOF (2023/08/22)",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-22T03:14:06.495Z"
  },
  "updatedAt": {
    "$date": "2023-08-22T04:37:27.021Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64e55d9a818481db341260a1"
  },
  "title": "tailwindcss",
  "subtitle": "",
  "author": "me",
  "content": "> The `theme` section of your `tailwind.config.js` file is where you define your project’s color palette, type scale, fonts, breakpoints, border radius values, and more.\n\ntailwind.config.js \n\n```\n/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  content: [\n    './pages/**/*.{js,ts,jsx,tsx,mdx}',\n    './components/**/*.{js,ts,jsx,tsx,mdx}',\n    './app/**/*.{js,ts,jsx,tsx,mdx}',\n  ],\n  theme: {\n    extend: {\n      colors: {\n        primary: '#7856ff'\n      }\n    },\n  },\n  plugins: [],\n}\n```\n\nglobal.css \n\n```\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* base styles */\nbody {\n  background: #ebf0fa;\n  @apply text-gray-500 m-8;\n}\nh1, h2 {\n  @apply font-bold text-primary text-lg;\n}\nmain {\n  @apply max-w-5xl my-12 mx-auto px-8;\n}\nmain > h2 {\n  @apply mb-4 pb-2 text-base ;\n}\np > a {\n  @apply text-primary underline;\n}\n\n/* nav styles */\nnav {\n  @apply\n    pb-4\n    border-b-2 border-gray-200\n    flex items-center gap-5 \n    my-10 mx-auto \n    max-w-5xl;\n}\nnav a, nav span {\n  @apply text-gray-500;\n}\nnav a:hover {\n  @apply text-black;\n}\nmain nav {\n  @apply border-0;\n}\n\n/* button styles */\nbutton {\n  @apply \n    px-3 py-2 \n    rounded-sm \n    flex justify-between items-center gap-2\n    text-sm;\n}\nbutton:hover {\n  @apply bg-opacity-90;\n}\n.btn-primary {\n  @apply bg-primary text-white;\n}\n.btn-secondary {\n  @apply bg-gray-200 text-gray-900;\n}\n\n/* form styles */\nform {\n  @apply \n    py-4 px-7 \n    bg-primary \n    bg-opacity-5 \n    rounded-md \n    block \n    mx-auto \n    min-w-fit w-1/4;\n}\nform label {\n  @apply block;\n}\nform input,\nform textarea,\nform select {\n  @apply \n    block \n    mt-2 my-4 px-2 py-1 \n    rounded-sm w-full;\n}\nform button {\n  @apply block mx-auto;\n}\n\n/* feedback styles */\n.error {\n  @apply \n    border-2 \n    border-red-500 \n    bg-red-300\n    text-red-800 \n    py-1 px-2 \n    rounded-sm\n    block\n    max-w-fit\n    my-4 mx-auto;\n}\n\n/* card styles */\n.card {\n  @apply \n    bg-white \n    shadow-sm \n    rounded-md \n    py-3 px-4 my-4 \n    relative \n    overflow-hidden;\n}\n.card h3 {\n  @apply \n    font-bold text-gray-700 text-sm \n    mb-0;\n}\n.card p {\n  @apply my-4 text-sm leading-6;\n}\n\n/* pill styles */\n.pill {\n  @apply \n    py-1 px-2 mt-3\n    inline-block \n    text-xs font-semibold;\n}\n.pill.high {\n  @apply bg-red-300 text-red-600;\n}\n.pill.medium {\n  @apply bg-blue-300 text-blue-600;\n}\n.pill.low {\n  @apply bg-emerald-300 text-emerald-600;\n}\n.card .pill {\n  @apply \n    absolute bottom-0 right-0 \n    rounded-tl-md;\n}\n```\n\n[Next.js 13 Crash Course Tutorial #5 - Styles, Fonts & Images](https://youtu.be/oWUQQD97Rz0)\n\n[tailwindcss | Theme Configuration](https://v2.tailwindcss.com/docs/theme)\n\n### EOF (2023/08/23)",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-23T01:15:06.539Z"
  },
  "updatedAt": {
    "$date": "2023-08-23T09:57:19.442Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64e6c298913dd4933daf0d85"
  },
  "title": "SSG",
  "subtitle": "To speed up loading post",
  "author": "me",
  "content": "> The [`generateStaticParams`](https://nextjs.org/docs/app/api-reference/functions/generate-static-params) function can be used in combination with dynamic route segments to statically generate routes at build time instead of on-demand at request time.\n\n- You can use the [`dynamicParams`](https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config) segment config option to control what happens when a dynamic segment is visited that was not generated with **generateStaticParams**.\n- During **next dev**, **generateStaticParams** will be called when you navigate to a route.\n- During **next build**, **generateStaticParams** runs before the corresponding Layouts or Pages are generated.\n- During revalidation (ISR), **generateStaticParams** will not be called again.\n- **generateStaticParams** replaces the [`getStaticPaths`](https://nextjs.org/docs/pages/api-reference/functions/get-static-paths) function in the Pages Router.\n\napp/posts/[id]/page.jsx \n\n```\nimport PostDetail from '@/components/PostDetail'\nimport connectMongoDB from \"@/config/mongoDB\";\nimport Post from \"@/models/post\"\n\n// Use SSG to speed up loading post\nexport const dynamicParams = false // default val = true\n\n// Return a list of `params` to populate the [id] dynamic segment\nexport async function generateStaticParams() {  \n    await connectMongoDB()\n    const posts = await Post.find({deleted: false}).select({_id:1}).lean()\n  \n    return posts.map((post) => ({\n      id: post._id.toString()\n    }))\n}\n\n// Multiple versions of this page will be statically generated\n// using the `params` returned by `generateStaticParams`\nconst PostPage = ( { params, searchParams } ) => {\n    return <PostDetail id={ params.id } rebaseimg={ searchParams._rebaseimg } />\n}\n\nexport default PostPage\n```\n> **generateStaticParams** should return an array of objects where each object represents the populated dynamic segments of a single route.\n\n```\nnpm run build\n```\n\n![alt next-build-ssg-1](https://raw.githubusercontent.com/Albert0i/next-methinks/main/img/next-build-ssg-1.JPG)\n\n![alt next-build-ssg-2](https://raw.githubusercontent.com/Albert0i/next-methinks/main/img/next-build-ssg-2.JPG)\n\n[Next.js 13 Crash Course Tutorial #8 - Static Rendering](https://youtu.be/ihmyC4Ei2zY)\n\n[NextJS | generateStaticParams](https://nextjs.org/docs/app/api-reference/functions/generate-static-params)\n\n### EOF (2023/08/24)\n\n\n---\n\n> Upon getting home I found it past four o'clock, and went immediately to bed. It is now ten A.M. I have been up since seven, penning these memoranda for the benefit of my family and of mankind. The former I shall behold no more. My wife is a shrew. The truth is, I am heartily sick of this life and of the nineteenth century in general. I am convinced that every thing is going wrong. Besides, I am anxious to know who will be President in 2045. As soon, therefore, as I shave and swallow a cup of coffee, I shall just step over to Ponnonner's and get embalmed for a couple of hundred years.\n\n[Some Words With a Mummy, by Edgar Allan Poe](https://poestories.com/read/mummy)",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-24T02:38:16.926Z"
  },
  "updatedAt": {
    "$date": "2023-08-24T09:31:31.660Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64e803b7a0d35ad03021d303"
  },
  "title": "likewise",
  "subtitle": "but not so",
  "author": "me",
  "content": "### Case 1: \n```\n// imitate delay \nawait new Promise(resolve => setTimeout(resolve, 3000));\n```\n---\n\n### Case 2: \n> “When bad folks have problems, they do bad things,” \n \n[Biden calls China ‘ticking time bomb’, says ‘bad folks… do bad things’\n](https://nypost.com/2023/08/10/biden-calls-china-ticking-time-bomb-says-bad-folks-do-bad-things/)\n\n---\n \n### Case 3: \n> 西門豹為鄴令，而辭乎魏文侯。文侯曰：「子往矣，必就子之功，而成子之名。」西門豹曰：「敢問就功成名，亦有術乎？」文侯曰：「有之。夫鄉邑老者而先受坐之士，子入而問其賢良之士而師事之，求其好掩人之美而揚人之醜者，而參驗之。夫物多相類而非也，幽莠之幼也似禾，驪牛之黃也似虎，白骨疑象，武夫類玉，此皆似之而非者也。」\n\n[《戰國策‧魏策一》(西門豹為鄴令)](https://ctext.org/zhan-guo-ce/wei-yi/zh)\n\n### EOF (2023/08/25)",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-25T01:28:23.345Z"
  },
  "updatedAt": {
    "$date": "2023-08-27T02:29:49.967Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64ed7c968f49731d829ea373"
  },
  "title": "Primsa x Planetscale",
  "subtitle": "A starter guide",
  "author": "me",
  "content": "https://github.com/Albert0i/prisma-planetscale/blob/main/README.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-08-29T05:05:26.658Z"
  },
  "updatedAt": {
    "$date": "2023-08-29T05:05:26.658Z"
  },
  "__v": 0
},{
  "_id": {
    "$oid": "64f197d94e4ffd5785a1a5de"
  },
  "title": "pscale",
  "subtitle": "PlanetScale CLI",
  "author": "me",
  "content": "https://github.com/planetscale/cli/blob/main/README.md",
  "deleted": false,
  "createdAt": {
    "$date": "2023-09-01T07:50:49.881Z"
  },
  "updatedAt": {
    "$date": "2023-09-01T07:52:05.724Z"
  },
  "__v": 0
}]